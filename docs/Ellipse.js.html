<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Ellipse.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Ellipse.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { drawEllipse } from './Renderer';
import { PrimitiveComponent } from './PrimitiveComponent';

/**
 * An ellipse
 */
export class Ellipse extends PrimitiveComponent {
  /**
   * @param {object} options options for the ellipse
   * @param {number} options.radius the major (horizontal) radius of the ellipse
   * @param {number} options.minorRadius the minor (vertical) radius of the ellipse
   */
  constructor(options) {
    super(options);
    /**
     * the major radius (horizontal) of the ellipse
     * @type {number}
     */
    this.radius = options.radius || 0;

    /**
     *  the minor radius (vertical) of the ellipse
     * @type {number}
     */
    this.minorRadius = options.minorRadius || this.radius || 0;
  }

  /**
   * the bounding box for the ellipse
   * @type {{top: number, left: number, bottom: number, right: number}}
   */
  get boundingBox() {
    let offset = this.offset;
    let scale = this.compoundScale;
    let lineWidth = this.style.lineWidth;
    return {
      top: offset.y -
                ((this.minorRadius * scale.scaleHeight) + lineWidth),
      left: offset.x -
                ((this.radius * scale.scaleWidth) + lineWidth),
      bottom: offset.y +
                (this.minorRadius * scale.scaleHeight) + lineWidth,
      right: offset.x +
                (this.radius * scale.scaleWidth) + lineWidth
    };
  }

  /**
   * override the render function specifically for ellipses
   * @override
   */
  render() {
    let scale = this.compoundScale;
    let lineWidth = this.style.lineWidth;
    //TODO: work out scaling of major/minor radius
    //this doesn't make sense
    drawEllipse(
      (this.radius * scale.scaleWidth) + lineWidth,
      (this.minorRadius * scale.scaleHeight) + lineWidth,
      (this.radius * scale.scaleWidth),
      (this.minorRadius * scale.scaleHeight),
      this._prerenderingContext,
      this.style
    );
  }
  /**
   * determine whether the point is in the object
   * basically just the pythagorean theorem
   * @param {number} x the x coordinate
   * @param {number} y the y coordinate
   * @return {boolean} whether or not the point is in the object
   */
  pointIsInObject(x, y) {
    let scale = this.compoundScale;
    let offset = this.offset;

    let a = x - offset.x;
    let b = y - offset.y;

    let c1 = this.radius * scale.scaleWidth;
    let c2 = this.minorRadius * scale.scaleHeight;

    //see: http://math.stackexchange.com/questions/76457/check-if-a-point-is-within-an-ellipse
    return ((a*a) / (c1*c1)) + ((b*b) / (c2*c2)) &lt;= 1;
  }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-TextUtilities.html">TextUtilities</a></li></ul><h3>Classes</h3><ul><li><a href="Bezier.html">Bezier</a></li><li><a href="Circle.html">Circle</a></li><li><a href="Composition.html">Composition</a></li><li><a href="Compositor.html">Compositor</a></li><li><a href="Ellipse.html">Ellipse</a></li><li><a href="Image.html">Image</a></li><li><a href="Line.html">Line</a></li><li><a href="PrimitiveComponent.html">PrimitiveComponent</a></li><li><a href="Rectangle.html">Rectangle</a></li><li><a href="Text.html">Text</a></li><li><a href="VectorPath.html">VectorPath</a></li></ul><h3>Global</h3><ul><li><a href="global.html#_cubicBezier">_cubicBezier</a></li><li><a href="global.html#_getExtremes">_getExtremes</a></li><li><a href="global.html#_scaleVectorXY">_scaleVectorXY</a></li><li><a href="global.html#clearRect">clearRect</a></li><li><a href="global.html#CLICK">CLICK</a></li><li><a href="global.html#defaults">defaults</a></li><li><a href="global.html#drawBezier">drawBezier</a></li><li><a href="global.html#drawCircle">drawCircle</a></li><li><a href="global.html#drawEllipse">drawEllipse</a></li><li><a href="global.html#drawImage">drawImage</a></li><li><a href="global.html#drawPath">drawPath</a></li><li><a href="global.html#drawPolygon">drawPolygon</a></li><li><a href="global.html#drawRectangle">drawRectangle</a></li><li><a href="global.html#drawText">drawText</a></li><li><a href="global.html#FILL_STYLE">FILL_STYLE</a></li><li><a href="global.html#FONT">FONT</a></li><li><a href="global.html#FONT_FAMILY">FONT_FAMILY</a></li><li><a href="global.html#FONT_SIZE">FONT_SIZE</a></li><li><a href="global.html#FONT_STYLE">FONT_STYLE</a></li><li><a href="global.html#FONT_VARIANT">FONT_VARIANT</a></li><li><a href="global.html#FONT_WEIGHT">FONT_WEIGHT</a></li><li><a href="global.html#KEYDOWN">KEYDOWN</a></li><li><a href="global.html#KEYPRESS">KEYPRESS</a></li><li><a href="global.html#KEYUP">KEYUP</a></li><li><a href="global.html#LINE_CAP">LINE_CAP</a></li><li><a href="global.html#LINE_HEIGHT">LINE_HEIGHT</a></li><li><a href="global.html#LINE_JOIN">LINE_JOIN</a></li><li><a href="global.html#LINE_WIDTH">LINE_WIDTH</a></li><li><a href="global.html#MITER_LIMIT">MITER_LIMIT</a></li><li><a href="global.html#MOUSEDOWN">MOUSEDOWN</a></li><li><a href="global.html#MOUSEMOVE">MOUSEMOVE</a></li><li><a href="global.html#MOUSEOUT">MOUSEOUT</a></li><li><a href="global.html#MOUSEUP">MOUSEUP</a></li><li><a href="global.html#STROKE_STYLE">STROKE_STYLE</a></li><li><a href="global.html#TEXT_ALIGN">TEXT_ALIGN</a></li><li><a href="global.html#TEXT_BASELINE">TEXT_BASELINE</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Mon Oct 18 2021 19:35:29 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
