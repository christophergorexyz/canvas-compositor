{"version":3,"file":"picture.js","names":["Picture","options","unscaledImage","image","compoundScale","offset","top","y","left","x","bottom","scaleHeight","height","right","scaleWidth","width","scale","window","Image","src","drawImage","_prerenderingContext","style","PrimitiveComponent"],"sources":["../../src/context-2d/picture.mjs"],"sourcesContent":["import { drawImage } from './renderer.mjs';\nimport PrimitiveComponent from './primitive-component.mjs';\n\n/**\n * an Image\n */\nexport default class Picture extends PrimitiveComponent {\n  /**\n   * @param {Object} options\n   */\n  constructor(options) {\n    super(options);\n    /**\n     * unscaledImage the original image\n     * @type {window.Image}\n     */\n    this.unscaledImage = options.image;\n  }\n\n  /**\n   * get the bounding box\n   * @type {{top: number, left: number, bottom: number, right:number}}\n   */\n  get boundingBox() {\n    let compoundScale = this.compoundScale;\n    let offset = this.offset;\n    return {\n      top: offset.y,\n      left: offset.x,\n      bottom: offset.y + (compoundScale.scaleHeight * this.unscaledImage.height),\n      right: offset.x + (compoundScale.scaleWidth * this.unscaledImage.width)\n    };\n  }\n\n  /**\n   * override the render function for images specifically\n   * @override\n   */\n  render() {\n    let scale = this.compoundScale;\n    let image = new window.Image();\n    image.src = this.unscaledImage.src;\n    image.width = this.unscaledImage.width * scale.scaleWidth;\n    image.height = this.unscaledImage.height * scale.scaleHeight;\n    drawImage(0, 0, image, this._prerenderingContext, this.style);\n  }\n}\n"],"mappings":";;;;;;;AAAA;AACA;AAA2D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAE3D;AACA;AACA;AAFA,IAGqBA,OAAO;EAAA;EAAA;EAC1B;AACF;AACA;EACE,iBAAYC,OAAO,EAAE;IAAA;IAAA;IACnB,0BAAMA,OAAO;IACb;AACJ;AACA;AACA;IACI,MAAKC,aAAa,GAAGD,OAAO,CAACE,KAAK;IAAC;EACrC;;EAEA;AACF;AACA;AACA;EAHE;IAAA;IAAA,KAIA,eAAkB;MAChB,IAAIC,aAAa,GAAG,IAAI,CAACA,aAAa;MACtC,IAAIC,MAAM,GAAG,IAAI,CAACA,MAAM;MACxB,OAAO;QACLC,GAAG,EAAED,MAAM,CAACE,CAAC;QACbC,IAAI,EAAEH,MAAM,CAACI,CAAC;QACdC,MAAM,EAAEL,MAAM,CAACE,CAAC,GAAIH,aAAa,CAACO,WAAW,GAAG,IAAI,CAACT,aAAa,CAACU,MAAO;QAC1EC,KAAK,EAAER,MAAM,CAACI,CAAC,GAAIL,aAAa,CAACU,UAAU,GAAG,IAAI,CAACZ,aAAa,CAACa;MACnE,CAAC;IACH;;IAEA;AACF;AACA;AACA;EAHE;IAAA;IAAA,OAIA,kBAAS;MACP,IAAIC,KAAK,GAAG,IAAI,CAACZ,aAAa;MAC9B,IAAID,KAAK,GAAG,IAAIc,MAAM,CAACC,KAAK,EAAE;MAC9Bf,KAAK,CAACgB,GAAG,GAAG,IAAI,CAACjB,aAAa,CAACiB,GAAG;MAClChB,KAAK,CAACY,KAAK,GAAG,IAAI,CAACb,aAAa,CAACa,KAAK,GAAGC,KAAK,CAACF,UAAU;MACzDX,KAAK,CAACS,MAAM,GAAG,IAAI,CAACV,aAAa,CAACU,MAAM,GAAGI,KAAK,CAACL,WAAW;MAC5D,IAAAS,mBAAS,EAAC,CAAC,EAAE,CAAC,EAAEjB,KAAK,EAAE,IAAI,CAACkB,oBAAoB,EAAE,IAAI,CAACC,KAAK,CAAC;IAC/D;EAAC;EAAA;AAAA,EAvCkCC,8BAAkB;AAAA"}