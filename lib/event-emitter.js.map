{"version":3,"file":"event-emitter.js","names":["EventEmitter","listeners","type","callback","push","stack","i","l","length","splice","event","slice","call","defaultPrevented","indexOf"],"sources":["../src/event-emitter.mjs"],"sourcesContent":["/**\n * The EventEmitter class is modified from a snippet by MDN Contributers at\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget#_Simple_implementation_of_EventTarget\n * Any copyright is dedicated to the Public Domain. http://creativecommons.org/publicdomain/zero/1.0/\n *\n * This enables custom classes to dispatch events\n */\n\nexport default class EventEmitter {\n  /**\n   * This class is intended to be extended or composed into other classes.\n   */\n  constructor() {\n    /**\n     * Listeners for each event type\n     * @type {object}\n     */\n    this.listeners = {};\n  }\n\n  /**\n   * Add an event listener\n   * @param {string} type The name of the event\n   * @param {function} callback The function to execute upon occurence of the event\n   */\n  addEventListener(type, callback) {\n    if (!(type in this.listeners)) {\n      this.listeners[type] = [];\n    }\n    this.listeners[type].push(callback);\n  }\n\n  /**\n   * Remove an even listner\n   * @param {string} type The name of the event\n   * @param {function} callback The function to stop executing upon occurence of the event\n   */\n  removeEventListener(type, callback) {\n    if (!(type in this.listeners)) {\n      return;\n    }\n    var stack = this.listeners[type];\n    for (var i = 0, l = stack.length; i < l; i++) {\n      if (stack[i] === callback) {\n        stack.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n  /**\n   * Dispatch an event. Upon dispatching an event, all listeners are called\n   * @param {object} event The `Event` that needs to be dispatched.\n   * @return {boolean} returns the inverse of `event.defaultPrevented`\n   */\n  dispatchEvent(event) {\n    if (!(event.type in this.listeners)) {\n      return true;\n    }\n    var stack = this.listeners[event.type].slice();\n\n    for (var i = 0, l = stack.length; i < l; i++) {\n      stack[i].call(this, event);\n    }\n    return !event.defaultPrevented;\n  }\n\n  /**\n   * Check whether the instance has listeners for the provided event type\n   * @return {boolean} true if there is a listener for this event type, otherwise false\n   * @param {string} type The type of event to check for\n   */\n  listensFor(type) {\n    return !!this.listeners[type];\n  }\n\n  /**\n   * Check whether the instance has a specific listener for the provided event type\n   * @return {boolean} true if the callback exists for this event type, otherwise false\n   * @param {string} type The type of event to check for\n   * @param {function} callback The specific callback to check for\n   */\n  hasListener(type, callback) {\n    return !!this.listeners[type]\n      ? this.listeners[type].indexOf(callback) >= 0\n      : false;\n  }\n}\n"],"mappings":";;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AANA,IAQqBA,YAAY;EAC/B;AACF;AACA;EACE,wBAAc;IAAA;IACZ;AACJ;AACA;AACA;IACI,IAAI,CAACC,SAAS,GAAG,CAAC,CAAC;EACrB;;EAEA;AACF;AACA;AACA;AACA;EAJE;IAAA;IAAA,OAKA,0BAAiBC,IAAI,EAAEC,QAAQ,EAAE;MAC/B,IAAI,EAAED,IAAI,IAAI,IAAI,CAACD,SAAS,CAAC,EAAE;QAC7B,IAAI,CAACA,SAAS,CAACC,IAAI,CAAC,GAAG,EAAE;MAC3B;MACA,IAAI,CAACD,SAAS,CAACC,IAAI,CAAC,CAACE,IAAI,CAACD,QAAQ,CAAC;IACrC;;IAEA;AACF;AACA;AACA;AACA;EAJE;IAAA;IAAA,OAKA,6BAAoBD,IAAI,EAAEC,QAAQ,EAAE;MAClC,IAAI,EAAED,IAAI,IAAI,IAAI,CAACD,SAAS,CAAC,EAAE;QAC7B;MACF;MACA,IAAII,KAAK,GAAG,IAAI,CAACJ,SAAS,CAACC,IAAI,CAAC;MAChC,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGF,KAAK,CAACG,MAAM,EAAEF,CAAC,GAAGC,CAAC,EAAED,CAAC,EAAE,EAAE;QAC5C,IAAID,KAAK,CAACC,CAAC,CAAC,KAAKH,QAAQ,EAAE;UACzBE,KAAK,CAACI,MAAM,CAACH,CAAC,EAAE,CAAC,CAAC;UAClB;QACF;MACF;IACF;;IAEA;AACF;AACA;AACA;AACA;EAJE;IAAA;IAAA,OAKA,uBAAcI,KAAK,EAAE;MACnB,IAAI,EAAEA,KAAK,CAACR,IAAI,IAAI,IAAI,CAACD,SAAS,CAAC,EAAE;QACnC,OAAO,IAAI;MACb;MACA,IAAII,KAAK,GAAG,IAAI,CAACJ,SAAS,CAACS,KAAK,CAACR,IAAI,CAAC,CAACS,KAAK,EAAE;MAE9C,KAAK,IAAIL,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGF,KAAK,CAACG,MAAM,EAAEF,CAAC,GAAGC,CAAC,EAAED,CAAC,EAAE,EAAE;QAC5CD,KAAK,CAACC,CAAC,CAAC,CAACM,IAAI,CAAC,IAAI,EAAEF,KAAK,CAAC;MAC5B;MACA,OAAO,CAACA,KAAK,CAACG,gBAAgB;IAChC;;IAEA;AACF;AACA;AACA;AACA;EAJE;IAAA;IAAA,OAKA,oBAAWX,IAAI,EAAE;MACf,OAAO,CAAC,CAAC,IAAI,CAACD,SAAS,CAACC,IAAI,CAAC;IAC/B;;IAEA;AACF;AACA;AACA;AACA;AACA;EALE;IAAA;IAAA,OAMA,qBAAYA,IAAI,EAAEC,QAAQ,EAAE;MAC1B,OAAO,CAAC,CAAC,IAAI,CAACF,SAAS,CAACC,IAAI,CAAC,GACzB,IAAI,CAACD,SAAS,CAACC,IAAI,CAAC,CAACY,OAAO,CAACX,QAAQ,CAAC,IAAI,CAAC,GAC3C,KAAK;IACX;EAAC;EAAA;AAAA;AAAA"}