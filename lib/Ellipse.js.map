{"version":3,"sources":["../src/Ellipse.js"],"names":["Ellipse","options","radius","minorRadius","scale","compoundScale","lineWidth","style","scaleWidth","scaleHeight","_prerenderingContext","x","y","offset","a","b","c1","c2","top","left","bottom","right","PrimitiveComponent"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;;;;;;AAEA;;;IAGaA,O;;;;;AACT;;;;;AAKA,mBAAYC,OAAZ,EAAqB;AAAA;;AAAA;;AACjB,iFAAMA,OAAN;AACA;;;;AAGA,UAAKC,MAAL,GAAcD,OAAO,CAACC,MAAR,IAAkB,CAAhC;AACA;;;;AAGA,UAAKC,WAAL,GAAmBF,OAAO,CAACE,WAAR,IAAuB,MAAKD,MAA5B,IAAsC,CAAzD;AATiB;AAUpB;AAED;;;;;;;;;AAoBA;;;;6BAIS;AACL,UAAIE,KAAK,GAAG,KAAKC,aAAjB;AACA,UAAIC,SAAS,GAAG,KAAKC,KAAL,CAAWD,SAA3B,CAFK,CAGL;AACA;;AACA,iCACK,KAAKJ,MAAL,GAAcE,KAAK,CAACI,UAArB,GAAmCF,SADvC,EAEK,KAAKH,WAAL,GAAmBC,KAAK,CAACK,WAA1B,GAAyCH,SAF7C,EAGK,KAAKJ,MAAL,GAAcE,KAAK,CAACI,UAHzB,EAIK,KAAKL,WAAL,GAAmBC,KAAK,CAACK,WAJ9B,EAKI,KAAKC,oBALT,EAMI,KAAKH,KANT;AAQH;AACD;;;;;;;;;;oCAOgBI,C,EAAGC,C,EAAG;AAClB,UAAIR,KAAK,GAAG,KAAKC,aAAjB;AACA,UAAIQ,MAAM,GAAG,KAAKA,MAAlB;AAEA,UAAIC,CAAC,GAAGH,CAAC,GAAGE,MAAM,CAACF,CAAnB;AACA,UAAII,CAAC,GAAGH,CAAC,GAAGC,MAAM,CAACD,CAAnB;AAEA,UAAII,EAAE,GAAG,KAAKd,MAAL,GAAcE,KAAK,CAACI,UAA7B;AACA,UAAIS,EAAE,GAAG,KAAKd,WAAL,GAAmBC,KAAK,CAACK,WAAlC,CARkB,CAUlB;;AACA,aAASK,CAAC,GAACA,CAAH,IAASE,EAAE,GAACA,EAAZ,CAAD,GAAsBD,CAAC,GAACA,CAAH,IAASE,EAAE,GAACA,EAAZ,CAArB,IAAyC,CAAhD;AACH;;;wBArDiB;AACd,UAAIJ,MAAM,GAAG,KAAKA,MAAlB;AACA,UAAIT,KAAK,GAAG,KAAKC,aAAjB;AACA,UAAIC,SAAS,GAAG,KAAKC,KAAL,CAAWD,SAA3B;AACA,aAAO;AACHY,QAAAA,GAAG,EAAEL,MAAM,CAACD,CAAP,IACC,KAAKT,WAAL,GAAmBC,KAAK,CAACK,WAA1B,GAAyCH,SADzC,CADF;AAGHa,QAAAA,IAAI,EAAEN,MAAM,CAACF,CAAP,IACA,KAAKT,MAAL,GAAcE,KAAK,CAACI,UAArB,GAAmCF,SADlC,CAHH;AAKHc,QAAAA,MAAM,EAAEP,MAAM,CAACD,CAAP,GACH,KAAKT,WAAL,GAAmBC,KAAK,CAACK,WADtB,GACqCH,SAN1C;AAOHe,QAAAA,KAAK,EAAER,MAAM,CAACF,CAAP,GACF,KAAKT,MAAL,GAAcE,KAAK,CAACI,UADlB,GACgCF;AARpC,OAAP;AAUH;;;;EApCwBgB,uC","sourcesContent":["import { drawEllipse } from './Renderer';\r\nimport { PrimitiveComponent } from './PrimitiveComponent';\r\n\r\n/**\r\n * An ellipse\r\n */\r\nexport class Ellipse extends PrimitiveComponent {\r\n    /**\r\n     * @param {object} options options for the ellipse\r\n     * @param {number} options.radius the major (horizontal) radius of the ellipse\r\n     * @param {number} options.minorRadius the minor (vertical) radius of the ellipse\r\n     */\r\n    constructor(options) {\r\n        super(options);\r\n        /**\r\n         * @type {number} radius the major radius (horizontal) of the ellipse\r\n         */\r\n        this.radius = options.radius || 0;\r\n        /**\r\n         * @type {number} minorRadius the minor radius (vertical) of the ellipse\r\n         */\r\n        this.minorRadius = options.minorRadius || this.radius || 0;\r\n    }\r\n\r\n    /**\r\n     * the bounding box for the ellipse\r\n     * @type {{top: number, left: number, bottom: number, right: number}} boundingBox\r\n     */\r\n    get boundingBox() {\r\n        let offset = this.offset;\r\n        let scale = this.compoundScale;\r\n        let lineWidth = this.style.lineWidth;\r\n        return {\r\n            top: offset.y -\r\n                ((this.minorRadius * scale.scaleHeight) + lineWidth),\r\n            left: offset.x -\r\n                ((this.radius * scale.scaleWidth) + lineWidth),\r\n            bottom: offset.y +\r\n                (this.minorRadius * scale.scaleHeight) + lineWidth,\r\n            right: offset.x +\r\n                (this.radius * scale.scaleWidth) + lineWidth\r\n        };\r\n    }\r\n\r\n    /**\r\n     * override the render function specifically for ellipses\r\n     * @override\r\n     */\r\n    render() {\r\n        let scale = this.compoundScale;\r\n        let lineWidth = this.style.lineWidth;\r\n        //TODO: work out scaling of major/minor radius\r\n        //this doesn't make sense\r\n        drawEllipse(\r\n            (this.radius * scale.scaleWidth) + lineWidth,\r\n            (this.minorRadius * scale.scaleHeight) + lineWidth,\r\n            (this.radius * scale.scaleWidth),\r\n            (this.minorRadius * scale.scaleHeight),\r\n            this._prerenderingContext,\r\n            this.style\r\n        );\r\n    }\r\n    /**\r\n     * determine whether the point is in the object\r\n     * basically just the pythagorean theorem\r\n     * @param {number} x the x coordinate\r\n     * @param {number} y the y coordinate\r\n     * @return {boolean} whether or not the point is in the object\r\n     */\r\n    pointIsInObject(x, y) {\r\n        let scale = this.compoundScale;\r\n        let offset = this.offset;\r\n\r\n        let a = x - offset.x;\r\n        let b = y - offset.y;\r\n\r\n        let c1 = this.radius * scale.scaleWidth;\r\n        let c2 = this.minorRadius * scale.scaleHeight;\r\n\r\n        //see: http://math.stackexchange.com/questions/76457/check-if-a-point-is-within-an-ellipse\r\n        return ((a*a) / (c1*c1)) + ((b*b) / (c2*c2)) <= 1;\r\n    };\r\n}\r\n"],"file":"Ellipse.js"}