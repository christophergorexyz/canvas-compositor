<!DOCTYPE HTML>
<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Canvas Compositor</title>
    <script src="dist/canvas-compositor.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>
    <canvas id="test-canvas" width="800" height="600" style="margin-top:20px; border:1px solid black;"></canvas>
    <div class="canvas-debug"></div>
    <script>
        'use strict';
        //var CCModule = require('canvas-compositor');
        let ccMod = require('canvas-compositor');

        let CanvasCompositor = ccMod.CanvasCompositor,
            Circle = ccMod.Circle,
            Ellipse = ccMod.Ellipse,
            Rectangle = ccMod.Rectangle,
            VectorPath = ccMod.VectorPath,
            Image = ccMod.Image,
            Text = ccMod.Text;

        let _myCC = new CanvasCompositor(document.getElementById('test-canvas'));

        let _circ = new Circle({
            radius: 50,
            x: 100,
            y: 100,
            style: {
                fillStyle: '#ccccff'
            },
            draggable: true
        });

        let _elip = new Ellipse({
            x: 200,
            y: 200,
            radius: 50,
            minorRadius: 30,
            draggable: true,
            style: {
                strokeStyle: '#000000',
                fillStyle: 'blue',
                lineWidth: 10
            }
        });

        let _rect = new Rectangle({
            width: 100,
            height: 50,
            x: 300,
            y: 300,
            style: {
                fillStyle: '#ccffcc',
                lineWidth: 1.0
            },
            draggable: true
        })

        let _path = new VectorPath({
            vertices: [{
                x: 200,
                y: 100
            }, {
                x: 100,
                y: 400
            }, {
                x: 400,
                y: 200
            }, {
                x: 800,
                y: 200
            }],
            style: {
                strokeStyle: 'orange',
                lineWidth: 10.0
            },
            draggable: true
        });

        var _text = new Text({
            x: 100,
            y: 400,
            text: 'The quick red fox jumps over the lazy brown dog.',
            fontSize: '28px',
            style: {
                fillStyle: 'green'
            },
            draggable: true
        });

        let _image = null;
        let i = new window.Image();
        i.src = 'demo.png';
        i.onload = function(e) {
            _image = new Image({
                image: i,
                x: 100,
                y: 100,
                style: {
                    strokeStyle: 'orange',
                    lineWidth: 10.0
                },
                draggable: true
            });
            _myCC.scene.addChild(_image);
        }


        _myCC.scene.addChild(_circ);
        _myCC.scene.addChild(_elip);
        _myCC.scene.addChild(_rect);
        _myCC.scene.addChild(_path);
        _myCC.scene.addChild(_text);

    </script>
</body>

</html>
