<!DOCTYPE HTML>
<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Canvas Compositor</title>
    <script src="dist/canvas-compositor.js" type="text/javascript" charset="utf-8"></script>
    <style>
        body {
            font-family: sans-serif;
        }

    </style>
</head>

<body>
    <canvas id="test-canvas" width="800" height="600" style="margin-top:20px; border:1px solid black;"></canvas>
    <div id="canvas-debug"></div>
    <script>

        let cc = CanvasCompositor;
        let debugFrame = document.getElementById('canvas-debug');

        let _myCC = new cc.CanvasCompositor(document.getElementById('test-canvas'));

        let _circ = new cc.Circle({
            radius: 50,
            x: 100,
            y: 100,
            style: {
                fillStyle: '#ccccff'
            },
            draggable: true
        });

        let _elip = new cc.Ellipse({
            x: 200,
            y: 200,
            radius: 50,
            minorRadius: 30,
            draggable: true,
            style: {
                strokeStyle: '#000000',
                fillStyle: 'blue',
                lineWidth: 10
            }
        });

        let _rect = new cc.Rectangle({
            width: 100,
            height: 50,
            x: 300,
            y: 300,
            style: {
                fillStyle: '#ccffcc',
                lineWidth: 1.0
            },
            draggable: true
        })

        let _path = new cc.VectorPath({
            vertices: [{
                x: 200,
                y: 100
            }, {
                x: 100,
                y: 400
            }, {
                x: 400,
                y: 200
            }, {
                x: 800,
                y: 200
            }],
            style: {
                strokeStyle: 'orange',
                lineWidth: 10.0
            },
            draggable: true
        });

        var _text = new cc.Text({
            x: 100,
            y: 400,
            text: 'The quick red fox jumps over the lazy brown dog.',
            fontSize: '28px',
            style: {
                fillStyle: 'green'
            },
            draggable: true
        });

        var _bezi = new cc.Bezier({
            start: {
                x: 50,
                y: 50
            },
            end: {
                x: 300,
                y: 50
            },
            control1: {
                x: 50,
                y: 201
            },
            control2: {
                x: 300,
                y: 199
            },
            style: {
                strokeStyle: 'red'
            },
            draggable: true//,
            //debug: true
        });

        let _image = null;
        let i = new window.Image();
        i.src = 'demo.png';
        i.onload = function(e) {
            _image = new cc.Image({
                image: i,
                x: 100,
                y: 100,
                style: {
                    strokeStyle: 'orange',
                    lineWidth: 10.0
                },
                draggable: true
            });
            _myCC.scene.addChild(_image);
        }

        _myCC.scene.addChild(_circ);
        _myCC.scene.addChild(_elip);
        _myCC.scene.addChild(_rect);
        _myCC.scene.addChild(_path);
        _myCC.scene.addChild(_bezi);
        _myCC.scene.addChild(_text);

        function _updateFPS() {
            debugFrame.innerHTML = "fps: " + _myCC.framerate;
        }

        setInterval(_updateFPS, 250);

    </script>
</body>

</html>
